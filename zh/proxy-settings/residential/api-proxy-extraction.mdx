---
title: "如何通过API提取使用动态住宅代理？"
sidebarTitle: "API提取"
---

B2Proxy 提供了简单易用的 **API 提取方式（通过 IP 白名单认证）**，帮助用户快速获取并使用动态住宅代理。即使是第一次使用代理服务，也可以轻松完成配置。本文将一步步介绍如何在仪表盘中添加白名单 IP，并通过 API 成功提取动态住宅代理，带你快速上手整个使用流程。

## 一、基础设置步骤

### 1. 添加IP白名单

![白名单IP](/images/白名单IP.png)

进入「白名单IP」，点击「添加白名单」，将需要使用住宅代理的网络环境对应的IP地址添加进去。

<Warning>
  注：未添加白名单的IP将无法调用API
</Warning>

### 2. 选择代理地理位置

国家/地区：从下拉列表中选择目标国家（如美国、日本）

### 3. 设置代理数量

输入要提取的IP数量（例如：100个）

### 4. 协议与格式配置

协议：默认HTTP(S)，可选SOCKS5

格式：默认TXT（每行一个IP:端口），可选JSON

分隔符：默认回车换行

### 5. 选择会话类型

轮换IP：每次请求自动更换IP，适合爬虫、数据采集。

粘性IP：IP保持固定一段时间（默认5分钟），适合账号管理等。

<Tip>
  选择粘性IP时，在 [提前更换IP] 栏选择“是”，系统将根据IP实际可用时长自动提前切换；选择“否”，则IP在粘性时长内保持不变，直至时长结束才可更换。
</Tip>

### 6.选择代理主机

基于您的网络IP选择最近的服务器，也可手动选择其他节点。

### 7. 生成API链接

点击「生成API链接」按钮，系统将为您返回唯一的API链接。

![生成api链接](/images/生成api链接.png)

## 二、调用API获取代理

在浏览器中打开API链接，或者在工具中配置API链接，正确的返回示例如下：

1.1.1.1:8888

2.2.2.2:8888

...

如果出现如下提示，则表示没有正确添加白名单，请返回第一步检查。

```
IP Whitelist Check Failed
```

<Warning>
  频率限制：1秒/次
</Warning>

<Warning>
  代理有效期：默认24小时，超时后需重新获取
</Warning>